import{r as g,j as e,a as i,F as u,c as p}from"./main.6.5.1.js";import{u as h}from"./@tanstack/react-query-7661d13c.js";import{b as l}from"./react-router-dom-3b9cdbb6.js";import{k as y,g as d,R as m,S as x}from"./antd-3ccb9cfc.js";import"./react-vendor-de3885fb.js";import"./@emotion/react-b0c8361f.js";import"./@tanstack/react-query-devtools-8ae3efe8.js";function F(r){var c,s;const t=`logs-${r.pageNo}`,{data:o,isLoading:a,isFetching:n}=h({queryKey:["all_logs",t],queryFn:async()=>g({action:"logs/all",data:r})});return{isLoading:a,isLogsFetching:n,logs:((c=o==null?void 0:o.data)==null?void 0:c.logs)??[],total:((s=o==null?void 0:o.data)==null?void 0:s.count)??0}}const{USERS:I}=p,k=[{title:"Id",dataIndex:"id",key:"id"},{title:"User",dataIndex:"user_id",key:"user",render:r=>{var t;return((t=I[r])==null?void 0:t.display_name)??""}},{title:"Command",dataIndex:"command",key:"command"},{title:"Details",dataIndex:"details",key:"details",render:(r,t,o)=>{var a;return i(x,{children:[e(m,{children:e(d,{children:(r==null?void 0:r.driver)&&`Driver: ${r==null?void 0:r.driver}`})}),e("hr",{}),e(m,{children:e(d,{children:(r==null?void 0:r.files)&&i(u,{children:[e("span",{children:"Files:"}),e("li",{children:(a=r==null?void 0:r.files)==null?void 0:a.map(n=>e("ol",{children:n==null?void 0:n.path},`${o}-${n==null?void 0:n.path}`))})]})})})]})}},{title:"Created",dataIndex:"created_at",key:"created_at"}];function v(){const{page:r}=l(),t=Number(r)||1,o=14,{isLoading:a,isLogsFetching:n,logs:c}=F({pageNo:t,limit:o});return e(y,{columns:k,rowSelection:{},dataSource:c,loading:a||n})}export{v as default};
